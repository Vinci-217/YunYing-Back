server:
  port: 8082
spring:
  application:
    name: yunying-server
  profiles:
    active: dev
  datasource:
    url: ${yunying.database.url}
    username: ${yunying.database.username}
    password: ${yunying.database.password}
    driver-class-name: ${yunying.database.driver-class-name}

  redis:
    port: 6379           # Redis 服务器端口
    password:   # 如果有密码，填写密码
    timeout: 2000        # 超时时间，单位毫秒
    jedis: # 使用 Jedis 作为客户端（可选）
      pool:
        max-active: 8    # 连接池中最大连接数
        max-idle: 8      # 连接池中最大空闲连接
        min-idle: 0      # 连接池中最小空闲连接

  cloud:
    zookeeper:
      connect-string: ${yunying.zookeeper.connect-string} # 替换为你的ZooKeeper地址
      discovery:
        enabled: true
      config:
        enabled: true
        root: /config # 配置根路径
  data:
    redis:
      host: localhost
      port: 6379
      password:
      timeout: 1000



resilience4j:
  circuitbreaker:
    instances:
      backendA:
        slidingWindowSize: 10               # 熔断器统计窗口大小
        minimumNumberOfCalls: 5             # 至少5个请求后才进行熔断计算
        failureRateThreshold: 50            # 失败率阈值（%）
        waitDurationInOpenState: 10s        # 熔断后等待10秒再进行重试
        permittedNumberOfCallsInHalfOpenState: 3  # 半开状态下允许的请求数

  ratelimiter:
    instances:
      backendA:
        limitForPeriod: 10                # 每个时间窗口的最大请求数
        limitRefreshPeriod: 1s            # 限流器刷新频率（时间窗口大小）
        timeoutDuration: 500ms            # 获取许可的超时时间



mybatis-plus:
  configuration:
    default-enum-type-handler: com.baomidou.mybatisplus.core.handlers.MybatisEnumTypeHandler
  global-config:
    db-config:
      update-strategy: not_null
      id-type: auto